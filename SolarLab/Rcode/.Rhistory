solarop<-numeric(length=length(sdata))
windop<-numeric(length=length(wdata))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
windop<-WindMW*unlist(sapply(wdata,wp))
solarop<-solarMWp*sdata/1000
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(WindMW,SolarMWp,max(balance),min(balance),max(ebalance),min(ebalance))))
})
res<-t(res)
res
# EnergySim
windMW<-25
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
solarMWp<-0
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-numeric(length=length(sdata))
windop<-numeric(length=length(wdata))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
windop<-WindMW*unlist(sapply(wdata,wp))
solarop<-solarMWp*sdata/1000
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(WindMW,SolarMWp,max(balance),min(balance),max(ebalance),min(ebalance))
})
res<-t(res)
res
# EnergySim
windMW<-25
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
solarMWp<-0
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-numeric(length=length(sdata))
windop<-numeric(length=length(wdata))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
windop<-WindMW*unlist(sapply(wdata,wp))
solarop<-solarMWp*sdata/1000
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(windMW,solarMWp,max(balance),min(balance),max(ebalance),min(ebalance))
})
res<-t(res)
res
# EnergySim
windMW<-25
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
solarMWp<-0
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-numeric(length=length(sdata))
windop<-numeric(length=length(wdata))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
windop<-sindMW*unlist(sapply(wdata,wp))
solarop<-solarMWp*sdata/1000
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(windMW,solarMWp,min(balance),max(balance),min(ebalance),max(ebalance))
})
res<-t(res)
res
# EnergySim
windMW<-25
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
solarMWp<-0
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-numeric(length=length(sdata))
windop<-numeric(length=length(wdata))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
#print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
windop<-windMW*unlist(sapply(wdata,wp))
solarop<-solarMWp*sdata/1000
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(windMW,solarMWp,min(balance),max(balance),min(ebalance),max(ebalance))
})
res<-t(res)
res
windPower
6.88*gamma(1+1/2.6)
?gamma
7.4*gamma(1+1/2.6)
# EnergySim
windMW<-seq(0,50,5)
solarMWp<-seq(0,50,5)
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-numeric(length=length(sdata))
windop<-numeric(length=length(wdata))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
#print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
windop<-windMW*unlist(sapply(wdata,wp))
solarop<-solarMWp*sdata/1000
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(windMW,solarMWp,min(balance),max(balance),min(ebalance),max(ebalance))
})
res<-t(res)
res
dim(res)
warnings()
solarMWp
dim(solarMWp)
class(solarMWp)
solarMWp[3,1]
t(solarMWp)
sdata
sdata %*% SolarMWp
sapply(solarMWp,function (x){})
sapply(solarMWp,function (x){
x*sdata
})
a<-sapply(solarMWp,function (x){
sapply(solarMWp,function (x){})
)
a<-sapply(solarMWp,function (x){
x*sdata
})
str(a)
tail(a)
a[25000,]
solarop<-matrix(length(solarMWp)*nrow(sdata),nrow(sdata),length(solarMWp))
solarop<-matrix(length(solarMWp)*length(sdata),length(sdata),length(solarMWp))
# EnergySim
windMW<-seq(0,50,5)
solarMWp<-seq(0,50,5)
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-matrix(length(solarMWp)*length(sdata),length(sdata),length(solarMWp))
windop<-matrix(length(windMW)*length(wdata),length(wdata),length(windMW))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
#print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
#windop<-windMW*unlist(sapply(wdata,wp))
windop<-sapply(windMW,function(x){
x*unlist(sapply(wdata,wp))
})
#solarop<-solarMWp*sdata/1000
solarop<-sapply(solarMWp,function (x){
x*sdata/1000
})
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(windMW,solarMWp,min(balance),max(balance),min(ebalance),max(ebalance))
})
rm(list=ls())
# EnergySim
windMW<-seq(0,50,5)
solarMWp<-seq(0,50,5)
windPower<-read.table("../data/specs/windPowerCurve.csv",header=FALSE,sep=",")
# read in demand files
houses=18000
ddata<-read.csv("../data/profiles/EESP/domDem10.csv")
demand<-numeric()
demand<-houses*ddata$W/1e6
rm(ddata)
sipfilepathstem<-"../data/synthetic/CamBSRN_Solar10minSyn/CamSolarSyn10min"
wipfilepathstem<-"../data/synthetic/CallywithWind10minSyn/Cally"
sipfilepathtail<-".csv"
wipfilepathtail<-"_10min.csv"
# set up input file numbers
ipfilename<-function(file,ipfilepathstem,ipfilepathtail){
ipfilehandle<-as.character(file)
if (file < 10){
ipfilehandle<-paste0("00",ipfilehandle)
}
if (file >= 10 && file < 100){
ipfilehandle<-paste0("0",ipfilehandle)
}
ipfilename<-paste0(ipfilepathstem,ipfilehandle,ipfilepathtail)
}
wp<-function(x){
windPower[which(windPower[,1]==x),2]
}
## loop through solar and wind files
numTrials<-10
trial=0
stored=0
res<-data.frame()
#start<-proc.time()
res<-replicate(numTrials,{
trial<<-trial+1
wfile<-floor(100*runif(1)+1)
sfile<-floor(100*runif(1)+1)
print(paste("Trial: ",trial," Solar file:",sfile,", Wind file: ",wfile,sep=" "))
wfilename<-ipfilename(wfile,wipfilepathstem,wipfilepathtail)
sfilename<-ipfilename(sfile,sipfilepathstem,sipfilepathtail)
wdata<-read.csv(wfilename)[,2]
sdata<-read.csv(sfilename)[,2]
# data$day<-min(365,data$t %/% 144 +1)
solarop<-matrix(length(solarMWp)*length(sdata),length(sdata),length(solarMWp))
windop<-matrix(length(windMW)*length(wdata),length(wdata),length(windMW))
# windop<-unlist(sapply(wdata,function(x){
#   windMW*windPower[which(windPower[,1]==x),2]
# }))
#print(paste("Solar: ",SolarMWp,", Wind: ",WindMW))
#windop<-windMW*unlist(sapply(wdata,wp))
windop<-sapply(windMW,function(x){
x*unlist(sapply(wdata,wp))
})
#solarop<-solarMWp*sdata/1000
solarop<-sapply(solarMWp,function (x){
x*sdata/1000
})
totalop<-windop+solarop
balance<-totalop-demand
ebalance<-cumsum(balance)/6000 # in GWh
#powerop<-data.frame(windop,solarop,totalop,demand,balance,ebalance)
# summary(powerop)
#diff<-proc.time()-start
#print(diff)
c(windMW,solarMWp,min(balance),max(balance),min(ebalance),max(ebalance))
})
res<-t(res)
res
res<-res[,23:26]
res
b <- matrix(rep(1:20), nrow=4, ncol=5)
b
x <- c(5,6,7)
b[2:4,]<-sweep(b[2:4,],1,x)
b
?sweep
b <- matrix(rep(1:20), nrow=4, ncol=5)
b[2:4,]<-sweep(b[2:4,],1,x,FUN ="-")
b
dim balance
dim(balance)
